if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`) %>%
gsub('^\s', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
1
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`) %>%
gsub('^ ', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`) %>%
gsub('^\s ', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`) %>%
gsub('^[ ] ', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`) %>%
gsub('^k', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
temp_dist_name <- gsub('^k', ', temp_dist_name')
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^k', ', temp_dist_name')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^k', ', temp_dist_name')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^k', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^K', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name)
%>% tolower()
%>% gsub('  ', '')
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name)
%>% tolower()
temp_dist_name <- gsub('  ', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name)
%>% tolower()
temp_dist_name <- gsub('  ', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
temp_dist_name <- gsub('  ', '', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
temp_dist_name <- gsub('  ', ' ', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4
temp_sek <- test_dpd_aceh[j + 1, ]$...4
temp_ben <- test_dpd_aceh[j + 2, ]$...4
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
# text cleaning district name
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
temp_dist_name <- gsub('  ', ' ', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4 %>% tolower()
temp_sek <- test_dpd_aceh[j + 1, ]$...4 %>% tolower()
temp_ben <- test_dpd_aceh[j + 2, ]$...4 %>% tolower()
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
party_leadership <- data.frame(district = character(),
name_ketua = character(),
name_sek = character(),
name_ben = character())
for (j in 1:nrow(test_dpd_aceh)){
# check for district name and update the storage for district name
if (!is.na(test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)) {
# text cleaning district name
temp_dist_name <- gsub('[[:digit:][:punct:]]+', '',
test_dpd_aceh[j, ]$`PROV/KAB/KOTA`)
temp_dist_name <- gsub('^ ', '', temp_dist_name) %>% tolower()
temp_dist_name <- gsub('  ', ' ', temp_dist_name)
print(temp_dist_name)
# update the ketua, sekretaris, bendahara
temp_ketua <- test_dpd_aceh[j, ]$...4 %>% tolower()
temp_sek <- test_dpd_aceh[j + 1, ]$...4 %>% tolower()
temp_ben <- test_dpd_aceh[j + 2, ]$...4 %>% tolower()
# update the party_leadership
party_leadership <- party_leadership %>% add_row(district = temp_dist_name,
name_ketua = temp_ketua,
name_sek = temp_sek,
name_ben = temp_ben)
}
}
# accessing the sheets
districts <- unique(gerindra_raw)
districts
View(gerindra_raw)
for (district in gerindra_raw) {
print(district)
}
for (district in gerindra_raw[1,]) {
print(district)
}
for (district in gerindra_raw[1,,]) {
print(district)
}
gerindra_raw
dim(gerindra_raw)
unique(gerindra_raw)
gerindra_raw[1]
gerindra_raw[1,1]
gerindra_raw[1,1, 1]
gerindra_raw[1]
nrow(gerindra_raw)
nrow(gerindra_raw[1])
nrow(gerindra_raw[1][1])
gerindra_raw[[]]
gerindra_raw["name"
gerindra_raw["name"]
nrow(
gerindra_raw["name"]
names(gerindra_raw)
names(gerindra_raw)
names(gerindra_raw)
names(gerindra_raw$`dpd-aceh`)
for (district in names(gerindra_raw) {
for (district in names(gerindra_raw)) {
print(district)
}
for (district in names(gerindra_raw)) {
print(names(gerindra-raw$district))
}
for (district in names(gerindra_raw)) {
print(names(gerindra-raw$district))
}
for (district in names(gerindra_raw)) {
print(names(gerindra-raw[district]))
}
for (district in names(gerindra_raw)) {
print(names(gerindra_raw[district]))
}
for (district in names(gerindra_raw)) {
print(names(gerindra_raw[district]))
}
for (district in names(gerindra_raw)) {
print(names(gerindra_raw$district))
}
names(gerindra_raw$`dpd-aceh`)
gerindra_raw["name"]
# accessing the sheets
districts <- names(gerindra_raw$)
# accessing the sheets
districts <- names(gerindra_raw)
districts[1]
names(gerindra_raw$districts[1])
names(gerindra_raw$(districts[1])
names(gerindra_raw$(districts[1]))
names(gerindra_raw[districts[1]])
names(gerindra_raw[[districts[1]])
names(gerindra_raw$paste(districts[1]))
gerindra_raw$dpd-aceh
gerindra_raw$dpd-aceh
names(gerindra_raw$paste('`',districts[1]'`'))
names(gerindra_raw$paste('`',districts[1],'`'))
paste('`',districts[1],'`')
paste0('`',districts[1],'`')
names(gerindra_raw$paste0('`',districts[1],'`'))
districts[dpd-aceh]
paste0('`',districts[1],'`')
test <- paste0('`',districts[1],'`')
gerindra_raw$test
districts[1]
gerindra_raw[test]
gerindra_raw[,test]
gerindra_raw[,test]
gerindra_raw[test]
# accessing the sheets
districts <- names(gerindra_raw)
districts[1]
gerindra_raw$`dpd-aceh`
gerindra_raw$`dpd-aceh`
test <- paste0('`',districts[1],'`')
print(test)
gerindra_raw$`dpd-aceh`
test <- paste0('`',districts[1],'`')
gerindra_raw[test,]
gerindra_raw[[test]
gerindra_raw[[test]]
gerindra_raw[[test]]
gerindra_raw$
for (district in gerindra_raw) {
print(district)
}
gerindra_raw$
for (district in gerindra_raw) {
print(district)
}
gerindra_raw[districts[1]]
View(gerindra_raw[districts[1]])
View(gerindra_raw[districts[1]][1])
View(gerindra_raw[districts[1]][districts[1]])
View(gerindra_raw[districts[1]][])
View(gerindra_raw[districts[1]][1])
gerindra_raw[districts[1]]
gerindra_raw[districts[1]][districts[]1]
gerindra_raw[districts[1]][districts[1]]
View(gerindra_raw[districts[1][1]])
View(gerindra_raw[districts[1][1]][["dpd-aceh"]])
View(gerindra_raw[districts[1])
View(gerindra_raw[districts[1]])
View(gerindra_raw[districts[1]][["dpd-aceh"]])
View(gerindra_raw[[districts[1]]][[districts[1]]])
View(gerindra_raw[[districts[1]]][[districts[1]]])
View(gerindra_raw[districts[1]][[districts[1]]])
for (district in names(gerindra_raw)) {
print(names(gerindra_raw[district][[district]]))
}
for (district in names(gerindra_raw)) {
print(paste("processing", dist_name))
district_df <- gerindra_raw[district][[district]]
}
for (district in names(gerindra_raw)) {
print(paste("processing", district))
district_df <- gerindra_raw[district][[district]]
}
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
View(gerindra_raw$`sulawesi-tenggara`)
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
View(party_leadership)
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
party_leadership <- data.frame(district = character(),
name_ketua = character(),
name_sek = character(),
name_ben = character())
nrow(gerindra_raw[districts[1]])
nrow(gerindra_raw[districts[1]])
nrow(gerindra_raw[districts[1]][[districts[1]]])
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
View(party_leadership)
install.packages(writexl)
library("writexl")
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
# write the excel file ---------------------------------------------------------
write_xlsx(party_leadership, "party_leadership_gerindra.xlsx")
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
source('~/onedrive/ynus/work/research/ethnic-politics-sea/data-scraping/gerindra/data-scrape-gerindra.R', echo=TRUE)
